# 🎬 VidScout — Поиск фильма по одному кадру

> Проект демонстрирует полный цикл разработки системы компьютерного зрения: от извлечения фич из видео и построения базы эмбеддингов до API-поиска и фронтенда.

---

## 🚀 Идея
Задача: пользователь загружает один кадр (`.jpg`), а система определяет, из какого видео этот кадр.  

Технология основана на:
- [OpenAI CLIP](https://github.com/openai/CLIP) для получения векторных представлений изображений,
- [FAISS](https://github.com/facebookresearch/faiss) для быстрого поиска по базе эмбеддингов,
- OpenCV для обработки видео.

---

## 👤 Выполнено:
- архитектура пайплайна,
- подготовка датасета из видео,
- генерация эмбеддингов (CLIP),
- построение векторного индекса (FAISS),
- сервер на **FastAPI**,
- фронтенд (Swagger UI + простой HTML),
- контейнеризация в **Docker**.

---

## 🛠️ Технологии
- **Python 3.9**
- **PyTorch**, **CLIP**
- **FAISS**
- **OpenCV**
- **FastAPI**, **Uvicorn**
- **Docker**
- Фронтенд: HTML/CSS/JS (Swagger UI)

---

## 📂 Архитектура

```text
             ┌────────────┐
             │   Кадр     │
             └─────┬──────┘
                   │
                   ▼
           ┌──────────────┐
           │ CLIP Encoder │  → эмбеддинг
           └─────┬────────┘
                 │
                 ▼
           ┌──────────────┐
           │   FAISS DB   │ → id видео
           └─────┬────────┘
                 │
                 ▼
          ┌────────────────┐
          │ FastAPI Server │ → JSON ответ
          └────────────────┘
```

---

## 📸 Демонстрация

**Swagger UI** позволяет загрузить файл и получить результат:

### Пример 1 — кадр из `Long_1`
![demo1](screenshots/demo1.png)

```json
{
  "video": "Long_1",
  "matched": true
}
```

### Пример 2 — кадр из `Long_2`
![demo2](screenshots/demo2.png)

```json
{
  "video": "Long_2",
  "matched": true
}
```

### Пример 3 — посторонний кадр
![demo3](screenshots/demo3.png)

```json
{
  "video": null,
  "matched": false
}
```

---

## 🔧 Быстрый старт

### 1. Установка зависимостей
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements-ml.txt
```

### 2. Запуск API
```bash
uvicorn app:app --reload --port 8000
```
Документация будет доступна на:  
👉 [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)


## 📌 Статус проекта
- ✅ MVP готов: поиск по картинке работает, API отвечает.  
- ✅ Демо-база из 2 видео.  
- 🔜 Планируется:
  - расширение датасета,
  - поддержка поиска по таймкодам,
  - веб-интерфейс на React,
  - Docker-compose для деплоя.

---

## 📜 Лицензия
MIT
